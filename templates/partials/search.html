<div class="search-container">
    <button class="search-toggle" aria-label="{% if lang == 'en' %}Toggle search{% elif lang == 'it' %}Attiva ricerca{% else %}Activar busqueda{% endif %}" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
        </svg>
    </button>
    <div class="search-box" aria-hidden="true">
        <input
            type="search"
            id="search-input"
            class="search-input"
            placeholder="{% if lang == 'en' %}{{ config.extra.i18n.en.search_placeholder }}{% elif lang == 'it' %}{{ config.extra.i18n.it.search_placeholder }}{% else %}{{ config.extra.i18n.es.search_placeholder }}{% endif %}"
            autocomplete="off"
            aria-label="{% if lang == 'en' %}Search posts{% elif lang == 'it' %}Cerca articoli{% else %}Buscar publicaciones{% endif %}"
        >
        <div id="search-results" class="search-results" role="listbox" aria-label="{% if lang == 'en' %}Search results{% elif lang == 'it' %}Risultati della ricerca{% else %}Resultados de busqueda{% endif %}"></div>
    </div>
</div>
<script>
    window.searchConfig = {
        lang: "{{ lang | default(value='es') }}",
        noResults: "{% if lang == 'en' %}{{ config.extra.i18n.en.search_no_results }}{% elif lang == 'it' %}{{ config.extra.i18n.it.search_no_results }}{% else %}{{ config.extra.i18n.es.search_no_results }}{% endif %}"
    };
</script>
